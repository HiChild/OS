<map version="1.0.1"><node ID="c7sh8zjfs0g0"  TEXT="输入输出系统" ><node ID="c7shcayc7kg0"  TEXT="6.1I O系统的功能，模型和接口" ><node ID="c7she7tgn600"  TEXT="IO系统的基本功能" ><node ID="c7shenvnscg0"  TEXT="方便用户使用" ><node ID="c7shfgetv340"  TEXT="1.隐藏物理设备的细节" ><node ID="c7shg5hm7so0"  TEXT="隐藏物理设备的实现细节，向上层提供少量的抽象接口" ></node></node><node ID="c7shhlvyoao0"  TEXT="2.与设备的无关性" ><node ID="c7shhvywo2g0"  TEXT="可以使用抽象的逻辑设备名来使用设备" ></node></node></node><node ID="c7sherfjqc80"  TEXT="提高设备利用率" ><node ID="c7shi82d5lc0"  TEXT="3.提高处理机和IO设备的利用率" ><node ID="c7shixb1g2o0"  TEXT="分支主题" ></node></node><node ID="c7shio7lotc0"  TEXT="4.对IO设备进行控制" ><node ID="c7shjesm2y00"  TEXT="是驱动程序的功能" ></node></node></node><node ID="c7shexct4r40"  TEXT="提供共享和错误处理" ><node ID="c7shjjj77tc0"  TEXT="5.确保对设备的正确共享" ></node><node ID="c7shjwh00fk0"  TEXT="6.错误处理" ></node></node></node><node ID="c7shk2w2d5s0"  TEXT="IO系统的层次结构和模型" ><node ID="c7shkbyhkhs0"  TEXT="层次结构" ><node ID="c7shkgq1w0g0"  TEXT="用户层IO软件" ><node ID="c7shl6178og0"  TEXT="实现与用户交互的接口" ></node></node><node ID="c7shkoqc1e00"  TEXT="设备独立性软件" ><node ID="c7shld55ct40"  TEXT="实现用户程序和驱动程序的接口" ></node></node><node ID="c7shkru43xk0"  TEXT="设备驱动程序" ><node ID="c7shli65atk0"  TEXT="与硬件直接相关" ></node></node><node ID="c7shkvdqyw00"  TEXT="中断处理程序" ><node ID="c7shm0jpk9s0"  TEXT="保存中断进程的CPU环境，待中断处理完成后，再返回中断的进程" ></node></node></node><node ID="c7shmu0t7o80"  TEXT="层次视图" ><node ID="c7shnca22t40"  TEXT="1IO上下接口" ><node ID="c7shnjtbrm80"  TEXT="IO系统接口" ></node><node ID="c7shnoe1yao0"  TEXT="软件/硬件（RW/HW）接口" ></node></node><node ID="c7shnit0fjc0"  TEXT="IO系统的分层" ><node ID="c7shogdmjk00"  TEXT="设备独立性软件" ><node ID="c7shoqrj17k0"  TEXT="最高层" ></node></node><node ID="c7shp1qqqz40"  TEXT="设备驱动程序" ><node ID="c7shp9105hc0"  TEXT="次底层" ></node></node><node ID="c7shpd4hytc0"  TEXT="中断处理程序" ><node ID="c7shpi97aso0"  TEXT="底层" ></node></node></node></node></node><node ID="c7shpwk56l40"  TEXT="IO系统接口" ><node ID="c7shq17xsv40"  TEXT="块设备接口" ><node ID="c7shq9w31yw0"  TEXT="概念" ><node ID="c7shqb966io0"  TEXT="是块设备管理程序和高层之间的接口" ></node></node><node ID="c7shrrfncl40"  TEXT="内容" ><node ID="c7shs5c82og0"  TEXT="1.块设备" ><node ID="c7shsbf1h4w0"  TEXT="指数据的存取和传输都是以块为单位的设备" ></node></node><node ID="c7shspbmaw00"  TEXT="2.隐藏了磁盘的二维结构" ><node ID="c7sht8r709s0"  TEXT="将所有扇区从0到n-1编号" ></node></node><node ID="c7sht0p1z940"  TEXT="3.将抽象命令映射为底层操作" ><node ID="c7shubolf7s0"  TEXT="将逻辑块号映射为物理块号" ></node></node></node></node><node ID="c7shuvo69uo0"  TEXT="流设备接口" ><node ID="c7shv4exfww0"  TEXT="概念" ><node ID="c7shv9xu3740"  TEXT="流设备管理程序与高层之间的接口" ><node ID="c7shvr4s56w0"  TEXT="又称为字符设备接口" ></node></node></node><node ID="c7shw67pid40"  TEXT="内容" ><node ID="c7shwo18r7c0"  TEXT="字符设备" ></node><node ID="c7shwqbf1xs0"  TEXT="get和put操作" ><node ID="c7shwylr4h40"  TEXT="get从缓冲区取一个数据到内存" ></node><node ID="c7shxytpa080"  TEXT="put从内存输出一个数据到缓冲区" ></node></node><node ID="c7shy8kb1i00"  TEXT="in-control指令" ><node ID="c7shynu7rbk0"  TEXT="参数中包含与具体设备相关的特定功能" ></node></node></node></node></node></node><node ID="c7shcpvl78g0"  TEXT="6.2IO设备和设备控制器" ><node ID="c7shzp5zfrs0"  TEXT="IO设备" ><node ID="c7shzsdag000"  TEXT="IO设备类型" ><node ID="c7shzwud8480"  TEXT="以使用特性划分" ><node ID="c7si04g2meg0"  TEXT="存储设备" ><node ID="c7si0b18drk0"  TEXT="磁盘" ></node></node><node ID="c7si070tgio0"  TEXT="IO设备" ><node ID="c7si0ekzkw80"  TEXT="键鼠" ></node></node></node><node ID="c7si0muul480"  TEXT="按传输速率分" ><node ID="c7si0wpj5y00"  TEXT="低速设备" ><node ID="c7si1d4bg4w0"  TEXT="键盘鼠标" ></node></node><node ID="c7si0zxdfig0"  TEXT="中速设备" ><node ID="c7si1fbq1rk0"  TEXT="打印机" ></node></node><node ID="c7si160mgqw0"  TEXT="高速设备" ><node ID="c7si1j3e8kw0"  TEXT="磁带机，光盘机。磁盘机" ></node></node></node></node><node ID="c7si1vumbj40"  TEXT="设备和控制器的接口" ><node ID="c7si24442eo0"  TEXT="数据信号线" ></node><node ID="c7si27pa6mw0"  TEXT="状态信号线" ><node ID="c7si2r73vmo0"  TEXT="指示设备当前信号的状态" ></node></node><node ID="c7si2b44dcg0"  TEXT="控制信号线" ></node></node></node><node ID="c7si32jae200"  TEXT="设备控制器" ><node ID="c7si35c7f5s0"  TEXT="设备控制器的基本功能" ><node ID="c7si3qkxah40"  TEXT="接收和识别命令" ></node><node ID="c7si40wvrz40"  TEXT="数据交换" ><node ID="c7si4f7dve00"  TEXT="CPU与设备控制器" ></node><node ID="c7si4n09dv40"  TEXT="设备控制器与设备" ></node></node><node ID="c7si4qrajfs0"  TEXT="标识和报告设备的状态" ></node><node ID="c7si4wzfvj40"  TEXT="地址识别" ></node><node ID="c7si56kxfo80"  TEXT="数据缓冲区" ></node><node ID="c7si59mxg6w0"  TEXT="差错控制" ></node></node><node ID="c7si5f8qs2o0"  TEXT="设备控制器的组成" ><node ID="c7si5k87krc0"  TEXT="设备控制器和处理机的接口" ></node><node ID="c7si5sgd6eg0"  TEXT="设备控制器和设备的接口" ></node><node ID="c7si661ni1s0"  TEXT="IO逻辑" ><node ID="c7si6bx9ti00"  TEXT="实现对设备的控制" ></node></node></node></node><node ID="c7si6ore2yo0"  TEXT="内存映像IO" ><node ID="c7si6y9cde00"  TEXT="1.利用特定的IO指令" ><node ID="c7si7fk9fu00"  TEXT="缺点：访问内存和设备需要两种不同的指令" ></node></node><node ID="c7si7p5adp40"  TEXT="2.内存映像IO" ><node ID="c7si7xzro2w0"  TEXT="0到n-1为内存地址，n以后为控制器的寄存器地址" ></node></node></node><node ID="c7si8ta83340"  TEXT="IO通道" ><node ID="c7si93twybc0"  TEXT="引入" ><node ID="c7si94z124g0"  TEXT="减少CPU对IO的控制" ></node></node><node ID="c7siak5d2c80"  TEXT="通道类型" ><node ID="c7sias4liw00"  TEXT="字节多路通道" ></node><node ID="c7sib799ch40"  TEXT="数组选择通道" ><node ID="c7sibeukq7s0"  TEXT="缺点：串行执行" ></node></node><node ID="c7sibn0lh2o0"  TEXT="数组多路通道" ><node ID="c7sic24gh9c0"  TEXT="将以上两点的优点相结合" ></node></node></node><node ID="c7sickm3a740"  TEXT="瓶颈问题" ><node ID="c7sicqy7ks00"  TEXT="通道被占用时，无法启动设备" ></node><node ID="c7sid5mepy80"  TEXT="解决：增加设备到主机之间的通路" ></node></node></node></node><node ID="c7shcxegqio0"  TEXT="6.3 中断机构和中断处理程序" ><node ID="c7siflb1b540"  TEXT="中断简介" ><node ID="c7sifu6jlbk0"  TEXT="中断" ><node ID="c7sifyuzu140"  TEXT="外部引起" ></node></node><node ID="c7sifwau56w0"  TEXT="陷入" ><node ID="c7sig2039280"  TEXT="内部引起" ></node></node></node><node ID="c7sigxeh0680"  TEXT="中断向量表和中断优先级" ><node ID="c7sih96j5co0"  TEXT="中断向量表" ></node><node ID="c7sihcgw00o0"  TEXT="中断优先级" ></node></node><node ID="c7sii4o6wa00"  TEXT="对多中断的的处理方式" ><node ID="c7siialvu280"  TEXT="1.屏蔽中断" ></node><node ID="c7siidn6cbk0"  TEXT="2.嵌套中断" ></node></node><node ID="c7siioj08og0"  TEXT="中断处理程序" ><node ID="c7siivhm0v40"  TEXT="测定是否有未响应的中断信号" ></node><node ID="c7sij86m9uo0"  TEXT="保护被中断进程的CPU环境" ></node><node ID="c7sijnl7pu80"  TEXT="转入相应的设备处理程序" ></node><node ID="c7sijurqz200"  TEXT="中断处理" ></node><node ID="c7sijx57xds0"  TEXT="恢复CPU的现场信息并退出中断" ></node></node></node><node ID="c7shd81i88o0"  TEXT="6.4 设备驱动程序" ><node ID="c7sikqugz680"  TEXT="概述" ><node ID="c7sil0intow0"  TEXT="设备驱动程序的功能" ><node ID="c7silm2492o0"  TEXT="将抽象命令转化为低层操作序列" ></node><node ID="c7silyauvio0"  TEXT="检查用户IO的合法性" ></node><node ID="c7sim2ctkug0"  TEXT="发出IO命令" ></node><node ID="c7sim62dixs0"  TEXT="及时响应设备控制器发来的中断请求" ></node></node><node ID="c7sil5xu7000"  TEXT="设备驱动程序的特点" ><node ID="c7sinciwzn40"  TEXT="实现设备无关软件和设备控制器之间的通讯" ></node><node ID="c7sint6wxtk0"  TEXT="与设备控制器和设备硬件特性紧密相关" ></node><node ID="c7sio5odf7k0"  TEXT="与IO设备的控制方式有关" ></node><node ID="c7siorapdjk0"  TEXT="一部分必须使用汇编语言，并固化在ROM中" ></node><node ID="c7sip4ovprs0"  TEXT="允许可重入" ></node></node><node ID="c7silaryzbc0"  TEXT="设备处理方式" ><node ID="c7sipc0erhk0"  TEXT="为每一类设备提供一个进程" ></node><node ID="c7siph0njds0"  TEXT="在整合系统中设计一个进程" ></node><node ID="c7sipmggteo0"  TEXT="不设置专门的设备处理进程" ></node></node></node><node ID="c7siq1wlvt40"  TEXT="设备驱动程序的处理过程" ><node ID="c7siq6k7q400"  TEXT="1.将抽象要求转化为具体要求" ></node><node ID="c7siqi4qqow0"  TEXT="2.对服务请求进行校验" ></node><node ID="c7siqqlz7rk0"  TEXT="3.检查设备的状态" ></node><node ID="c7siqveu8tk0"  TEXT="4.传送必要的数据" ></node><node ID="c7siqzy690w0"  TEXT="5.启动IO设备" ></node></node><node ID="c7sir8om4ps0"  TEXT="对IO设备的控制方式" ><node ID="c7sirefdro80"  TEXT="1.轮询的可编程IO方式" ><node ID="c7sis2648mg0"  TEXT="缺点：浪费CPU资源" ></node></node><node ID="c7sisc1sk1k0"  TEXT="2.使用中断的可编程IO方式" ></node><node ID="c7sit7oalz40"  TEXT="3.直接存储器访问方式DMA" ><node ID="c7sitkj3hgg0"  TEXT="数据传输的基本单位时数据块" ></node><node ID="c7sitsp5oy80"  TEXT="所传送的数据是从设备直接送入内存" ></node><node ID="c7siu1arfv40"  TEXT="再开始和结束时才需要干预" ></node><node ID="c7siujdg75s0"  TEXT="DMA控制器的组成" ><node ID="c7sivnlhqgo0"  TEXT="命令状态寄存器CR" ></node><node ID="c7sivunazpc0"  TEXT="内存地址寄存器MAR" ></node><node ID="c7siw43zrj40"  TEXT="数据寄存器DR" ></node><node ID="c7siw9mqago0"  TEXT="数据计数器DC" ></node></node><node ID="c7siwm52tq80"  TEXT="DMA的工作过程" ></node></node><node ID="c7six3w3bgg0"  TEXT="4.IO通道控制方式" ><node ID="c7sixempq0g0"  TEXT="引入" ><node ID="c7sixjytads0"  TEXT="减少了CPU对IO控制的干预" ></node><node ID="c7siy28nplc0"  TEXT="可以支持多个数据块传送到不同的内存地址" ></node></node></node><node ID="c7sizb7treg0"  TEXT="通道程序的组成" ><node ID="c7sizj0txog0"  TEXT="操作码" ></node><node ID="c7sizrg8zps0"  TEXT="内存地址" ></node><node ID="c7sizu9r5mg0"  TEXT="计数" ></node><node ID="c7sizwk3www0"  TEXT="通道程序结束位P" ></node><node ID="c7sj04quhsw0"  TEXT="记录结束标志R" ></node></node></node></node><node ID="c7z6ngtw99s0"  TEXT="6.5与设备无关的IO软件" ><node ID="c7z6s0sdk4g0"  TEXT="基本概念" ><node ID="c7z6s6y3f7c0"  TEXT="1.以物理设备名使用设备很不方便" ></node><node ID="c7z6t35lpeo0"  TEXT="2.引入了逻辑设备名" ><node ID="c7z6tr4qvz40"  TEXT="逻辑设备是抽象的设备名" ></node></node><node ID="c7z6umrop880"  TEXT="3.可以实现IO重定向" ></node><node ID="c7z6utu18oo0"  TEXT="4.需要实现逻辑设备名到物理设备名的转换" ></node></node><node ID="c7z6vbr14y00"  TEXT="与设备无关的软件" ><node ID="c7z6vzhmuug0"  TEXT="包括了执行所有公用操作的软件" ><node ID="c7z6w9vlg880"  TEXT="1.设备驱动程序的统一接口" ><node ID="c7z6x395yw80"  TEXT="使设备驱动程序有着相同或相近的接口" ></node><node ID="c7z6xnjfi940"  TEXT="将抽象的设备名映射到驱动程序" ></node><node ID="c7z6yfrw8kw0"  TEXT="对设备进行保护" ></node></node><node ID="c7z6wj8xips0"  TEXT="2.缓冲管理" ><node ID="c7z6zgq46480"  TEXT="缓和cpu和字符设备或者块设备之间处理速度的矛盾" ><node ID="c7z6zwu55pc0"  TEXT="单缓冲区" ></node><node ID="c7z703cork00"  TEXT="双缓冲区" ></node><node ID="c7z709uyt5s0"  TEXT="循环缓冲" ></node><node ID="c7z70ckod7k0"  TEXT="公用缓冲" ></node></node></node><node ID="c7z6wy9qhs00"  TEXT="3.差错控制" ><node ID="c7z70i7y4rc0"  TEXT="1.暂时性错误" ><node ID="c7z71187xh40"  TEXT="主要由设备驱动程序处理" ></node></node><node ID="c7z70oi7qeo0"  TEXT="持久性错误" ><node ID="c7z717xsg0w0"  TEXT="如电源掉电，磁盘有划痕等" ></node></node></node><node ID="c7z73d6xhs80"  TEXT="4.对独占设备的分配和回收" ></node><node ID="c7z743sczxk0"  TEXT="5.提供独立于设备的逻辑数据块" ></node></node></node><node ID="c7z74n8q9uw0"  TEXT="设备分配" ><node ID="c7z7560rmo00"  TEXT="引入" ><node ID="c7z757aa8140"  TEXT="为了分配系统中的独占设备" ></node></node><node ID="c7z75vqhudc0"  TEXT="数据结构" ><node ID="c7z75zzokcw0"  TEXT="设备控制表DCT" ><node ID="c7z76v8pwg00"  TEXT="设备队首指针" ></node><node ID="c7z78k2hz4w0"  TEXT="设备类型" ></node><node ID="c7z78n5asn40"  TEXT="设备标识符" ></node><node ID="c7z773omg140"  TEXT="忙/闲标志" ></node><node ID="c7z77yqp6080"  TEXT="与设备连接的控制器表指针" ></node><node ID="c7z786yhwfc0"  TEXT="重复执行次数" ></node></node><node ID="c7z78pye3wo0"  TEXT="控制表和设备表" ><node ID="c7z78y7bl7c0"  TEXT="控制器控制表" ><node ID="c7z79g52src0"  TEXT="记录控制器情况的控制器表" ></node></node><node ID="c7z791rujqw0"  TEXT="通道控制表" ><node ID="c7z79t3a4fk0"  TEXT="每个通道都有一张通道控制表" ></node></node><node ID="c7z793tylgo0"  TEXT="系统设备表" ><node ID="c7z7a930kiw0"  TEXT="记录了系统中全部设备的情况" ></node></node></node></node><node ID="c7z7cdv18b40"  TEXT="设备分配应该考虑的因素" ><node ID="c7z7cnfzt5c0"  TEXT="设备的固有属性" ><node ID="c7z7cs52kew0"  TEXT="独占设备的分配策略" ><node ID="c7z7dep0ndk0"  TEXT="设备分配给进程后由进程独占" ></node></node><node ID="c7z7d074qnc0"  TEXT="共享设备的分配策略" ><node ID="c7z7dud5qe80"  TEXT="可以同时分配给多个进程使用，需要注意访问次序的合理的调度" ></node></node><node ID="c7z7d9fv92o0"  TEXT="虚拟设备的分配策略" ><node ID="c7z7et1j3mo0"  TEXT="虚拟设备属于共享设备可以同时分配给多个进程使用" ></node></node></node><node ID="c7z7f9csoeg0"  TEXT="设备分配算法" ><node ID="c7z7fd5oqgo0"  TEXT="先来先服务" ></node><node ID="c7z7fhtdeu80"  TEXT="优先级高者优先" ></node></node><node ID="c7z7fnpbek80"  TEXT="安全性" ><node ID="c7z7fu8h7xc0"  TEXT="安全分配方式" ><node ID="c7z7g5p973c0"  TEXT="每当进程发出IO请求后，便进入阻塞状态，直到IO操作完成" ><node ID="c7z7grtiea00"  TEXT="摒弃了“请求和保持”条件，不会造成死锁" ></node></node></node><node ID="c7z7fxrhdkg0"  TEXT="不安全分配方式" ><node ID="c7z7h5oqmps0"  TEXT="进程在发出IO请求后仍然继续，仅当进程所需要的设备被另一个设备占用才阻塞" ><node ID="c7z7hw38iq00"  TEXT="需要进行安全性计算" ></node></node></node></node></node><node ID="c7z7kizbzww0"  TEXT="独占设备的分配程序" ><node ID="c7z7l32jko00"  TEXT="分配设备" ></node><node ID="c7z7l8cjb600"  TEXT="分配控制器" ></node><node ID="c7z7lg2fv3c0"  TEXT="分配通道" ></node><node ID="c7z7m0twim00"  TEXT="改进：" ><node ID="c7z7m2rgyog0"  TEXT="可以使用逻辑设备名代替物理设备名" ></node></node></node></node><node ID="c7z7n29hxds0"  TEXT="逻辑设备到物理设备名" ><node ID="c7z7nbly8lc0"  TEXT="逻辑设备表（LUT）" ><node ID="c7z7nfjrwsw0"  TEXT="逻辑设备名" ></node><node ID="c7z7nj409go0"  TEXT="物理设备名" ></node><node ID="c7z7nl7eiog0"  TEXT="设备驱动程序入口" ></node></node><node ID="c7z7ogzcn1c0"  TEXT="LUT的设置方式" ><node ID="c7z7opkcg2o0"  TEXT="方式一：在整个系统中只设置一个LUT" ><node ID="c7z7pdwy7ig0"  TEXT="适用于单用户系统" ></node></node><node ID="c7z7p2gzms80"  TEXT="方式二：为每个用户设置一张LUT" ><node ID="c7z7pl8zzo00"  TEXT="适用于多用户系统" ></node></node></node></node></node><node ID="c7z7prmmqc80"  TEXT="6.6用户层的IO软件 " ><node ID="c7z7pzf9iu80"  TEXT="1.系统调用与库函数" ><node ID="c7z7qrnr8q80"  TEXT="系统调用" ><node ID="c7z7qtszhzc0"  TEXT="提供给用户OS的服务" ></node></node><node ID="c7z7revyhi00"  TEXT="库函数" ><node ID="c7z7rgu7ifs0"  TEXT="对系统调用的封装，扩展了OS内核" ></node></node></node><node ID="c7z7s4i5doo0"  TEXT="2.假脱机（Spooling）系统" ><node ID="c7z7sdhs8vk0"  TEXT="假脱机技术" ><node ID="c7z7te05fk00"  TEXT="联机情况下实现的同时外围操作的技术" ></node></node><node ID="c7z7uagebqw0"  TEXT="组成" ><node ID="c7z7ubukh7c0"  TEXT="1.输入输出井" ><node ID="c7z7v7oifxk0"  TEXT="模拟输入输出时的磁盘" ></node></node><node ID="c7z7vj4hu5c0"  TEXT="2.输入缓冲区和输出缓冲区" ><node ID="c7z7wcesx0g0"  TEXT="缓和磁盘和CPU速度的矛盾" ></node></node><node ID="c7z7vq5z0pk0"  TEXT="3.输入进程和输出进程" ><node ID="c7z7x9u2w000"  TEXT="模拟输入输出的外围控制机" ></node></node><node ID="c7z7vyyn2n40"  TEXT="4.井管理程序" ><node ID="c7z7xkunwe80"  TEXT="用于控制作业与磁盘井之间的信息交换" ></node></node></node></node><node ID="c7z7y8mz9c80"  TEXT="Spooling系统的特点" ><node ID="c7z7yg7id480"  TEXT="1提高了IO的速度" ></node><node ID="c7z7ymnnwow0"  TEXT="2.将独占设备改为共享设备" ></node><node ID="c7z7ysjjx2o0"  TEXT="3.实现了虚拟设备的功能" ></node></node><node ID="c7z7z5xxeiw0"  TEXT="假脱机打印系统" ><node ID="c7z7z9xffw80"  TEXT="组成" ><node ID="c7z7zcac9xs0"  TEXT="1.磁盘缓冲区" ></node><node ID="c7z7zfi49jk0"  TEXT="2.打印缓冲区" ></node><node ID="c7z7zl8xvts0"  TEXT="3.假脱机管理和打印进程" ></node></node></node><node ID="c7z809tufvc0"  TEXT="守护进程" ><node ID="c7z80k5uxdc0"  TEXT="可以替换假脱机管理进程" ></node><node ID="c7z814d0wnc0"  TEXT="凡是需要将一个独占设备改造为一个共享设备时，需要的配置" ><node ID="c7z81yzbqzc0"  TEXT="守护进程" ></node><node ID="c7z82230u200"  TEXT="假脱机文件队列" ></node></node></node><node ID="c7z82954tvs0"  TEXT="守护进程时唯一能使用打印机的进程，不被需要时沉睡，需要时被唤醒" ></node></node><node ID="c7z838xg1tc0"  TEXT="6.7缓冲区管理" ><node ID="c7z83e14wvk0"  TEXT="引入" ><node ID="c7z83jp7apc0"  TEXT="为了缓和IO设备和CPU设备之间速度不匹配的矛盾" ></node><node ID="c7z840ufltc0"  TEXT="减少对CPU的中断频率，放宽对CPU中断响应时间的限制" ></node><node ID="c7z84mo63c80"  TEXT="为了解决数据粒度之间的不匹配" ></node><node ID="c7z84w011m00"  TEXT="为了提高CPU和IO设备之间的并行性" ></node></node><node ID="c7z8752d70g0"  TEXT="假定数据" ><node ID="c7z879mw6wg0"  TEXT="磁盘把数据输入到缓冲区的时间为T" ></node><node ID="c7z87n28fy80"  TEXT="OS将数据送到用户区的时间为M" ></node><node ID="c7z88cn50yw0"  TEXT="CPU对着一块数据的处理时间为C" ></node></node><node ID="c7z85erypig0"  TEXT="缓冲区的类型" ><node ID="c7z85qvmpts0"  TEXT="单缓冲区" ><node ID="c7z88q22vyo0"  TEXT="需要系统处理的时间：Max(C，T)+M" ></node></node><node ID="c7z85t8nqlc0"  TEXT="双缓冲区" ><node ID="c7z8933zga00"  TEXT="需要系统处理的时间：Max(C, T)" ></node></node><node ID="c7z85ve79fk0"  TEXT="环形缓冲区" ><node ID="c7z89y3mbio0"  TEXT="组成" ><node ID="c7z8a0xlzxc0"  TEXT="1.多个缓冲区" ></node><node ID="c7z8a58lffk0"  TEXT="2.多个指针" ><node ID="c7z8ae0pplc0"  TEXT="指示计算进程下一个可用缓冲区G的Nextg" ></node><node ID="c7z8axzzhpc0"  TEXT="指示输入进程下次可用的空缓冲区Nexti" ></node><node ID="c7z8bp5inew0"  TEXT="指示计算进程当前正在使用的缓冲区Current" ></node></node></node><node ID="c7z8ctoeeg80"  TEXT="同步问题" ><node ID="c7z8cx98w7c0"  TEXT="Nexti追上Nextg" ><node ID="c7z8du7fe4w0"  TEXT="系统受计算限制" ><node ID="c7z8eauk3y80"  TEXT="输入进程应该阻塞" ></node></node></node><node ID="c7z8dbtan2g0"  TEXT="Nextg追上Nexti" ><node ID="c7z8e5axd680"  TEXT="系统受IO限制" ><node ID="c7z8egiq71c0"  TEXT="计算进程应该阻塞" ></node></node></node></node></node><node ID="c7z862glpq80"  TEXT="缓冲池" ><node ID="c7z8essrfug0"  TEXT="组成" ><node ID="c7z8ex7wrc00"  TEXT="空白缓冲队列emq" ></node><node ID="c7z8f42xmn40"  TEXT="输入队列inq" ></node><node ID="c7z8f8dz2eg0"  TEXT="输出队列outq" ></node><node ID="c7z8ff46j000"  TEXT="工作缓冲区" ><node ID="c7z8fhv2xao0"  TEXT="用于收容输入数据" ></node><node ID="c7z8fqux7c80"  TEXT="用于提取输入数据" ></node><node ID="c7z8g00lzbs0"  TEXT="用于收容输出数据" ></node><node ID="c7z8g5vmt6g0"  TEXT="用于提取输出数据" ></node></node></node><node ID="c7z8hjvf3r40"  TEXT="工作方式" ><node ID="c7z8hmme8800"  TEXT="1.收容输入" ></node><node ID="c7z8hprac1k0"  TEXT="2.提取输入" ></node><node ID="c7z8hs716kw0"  TEXT="3.收容输出 " ></node><node ID="c7z8ii4bqeg0"  TEXT="4.提取输出" ></node></node></node></node></node><node ID="c7z8jg5dd600"  TEXT="6.8磁盘存储器的性能和调度" ><node ID="c7z8jtew1pc0"  TEXT="磁盘简述" ><node ID="c7z8k6j4rfc0"  TEXT="数据的组织和格式" ><node ID="c7z8kjcg5io0"  TEXT="物理盘片" ></node><node ID="c7z8kqregmo0"  TEXT="磁道" ></node><node ID="c7z8ktvlmig0"  TEXT="间隙" ></node><node ID="c7z8kxcp2xk0"  TEXT="扇区" ></node></node><node ID="c7z8lolkq1s0"  TEXT="磁盘的类型" ><node ID="c7z8lwhhhrc0"  TEXT="固定头磁盘" ></node><node ID="c7z8m4odnt40"  TEXT="移动头磁盘" ></node></node><node ID="c7z8mf662nk0"  TEXT="磁盘访问时间" ><node ID="c7z8mjtaits0"  TEXT="寻道时间" ></node><node ID="c7z8mqred2o0"  TEXT="旋转延迟时间" ></node><node ID="c7z8my12o480"  TEXT="传输时间" ></node></node></node><node ID="c7z8n5sw44g0"  TEXT="早期调度算法" ><node ID="c7z8naifo0g0"  TEXT="1.先来先服务" ></node><node ID="c7z8ni0a6rk0"  TEXT="2最短寻道时间优先" ></node></node><node ID="c7z8nwpn5hk0"  TEXT="基于扫描的磁盘调度算法" ><node ID="c7z8o3g2n3k0"  TEXT="1.扫描算法（SACN）" ><node ID="c7z8oj14i000"  TEXT="又称电梯调度算法" ></node></node><node ID="c7z8opgliug0"  TEXT="循环扫描算法(CSCAN)" ><node ID="c7z8osrz5gw0"  TEXT="方向固定" ></node></node><node ID="c7z8p1hv2000"  TEXT="NstepSCAN算法" ><node ID="c7z8pgqmq2w0"  TEXT="将请求分为很多队列" ></node><node ID="c7z8pw2x8ow0"  TEXT="FCFS处理队列" ></node><node ID="c7z8q8zxxxc0"  TEXT="队列中的以电梯" ></node><node ID="c7z8qovu2co0"  TEXT="好处：避免磁壁黏着的出现" ></node></node><node ID="c7z8qn3lid40"  TEXT="FSCAN算法" ><node ID="c7z8rtt7p940"  TEXT="简化的Nstep算法" ><node ID="c7z8s2bffps0"  TEXT="只分两个队列" ></node></node></node></node></node></node></map>